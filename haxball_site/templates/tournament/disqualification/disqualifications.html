{% extends "core/home.html" %}
{% load static %}
{% load tournament_extras %}
{% load widget_tweaks %}

{% block title %}Чемпионат | Дисквалификации — CIS-HAXBALL {% endblock %}
{% block profile_of_user %}
    <link rel="stylesheet" type="text/css" href="{% static 'tournament/disqualification/disqualifications_list.css' %}">

    <div class="card mb-2 mt-2" style="border-radius: 10px">
        <h2 class="text-center my-2">
            <i class="fa fa-ban text-danger" aria-hidden="true"></i>Дисквалификации
        </h2>
        <div class="container-fluid p-0 mx-0">
            <form id="filter-form" class="form-inline mt-1 mb-1 ml-2"
                  hx-get="{% url 'tournament:disqualifications' %}"
                  hx-trigger="submit"
                  hx-target="#disqualifications-list-container"
                  hx-swap="innerHTML show:top"
                  hx-disabled-elt="find button">
                <div class="form-group mr-2 mb-2">
                    <label>{{ filter.form.season.label }}:</label>
                    {% render_field filter.form.season|add_class:'form-control-sm ml-1' %}
                </div>

                <div class="form-group mr-2 mb-2">
                    <label>{{ filter.form.team.label }}:</label>
                    {% render_field filter.form.team|add_class:'form-control-sm ml-1' %}
                </div>

                <div class="form-group mr-2 mb-2">
                    <label>{{ filter.form.player.label }}:</label>
                    {% render_field filter.form.player|add_class:'form-control-sm ml-1' %}
                </div>

                <div class="form-group justify-content-start mb-2">
                    <button class="btn-sm btn-primary">Применить фильтр</button>
                    <img class="htmx-indicator ml-2" src="{% static 'img/svg-loaders/bars.svg' %}" height="24">
                </div>

            </form>

            <div class="table-fix table-responsive">
                <table class="table table-hover" style="max-width: 100%">
                    <thead class="thead-dark py-2 text-left">
                        <tr>
                            <th scope="col">Команда</th>
                            <th scope="col">Игрок</th>
                            <th scope="col" width="140px">Матч</th>
                            <th scope="col">Причина дисквалификации</th>
                            <th scope="col">Распостраняется на</th>
                            <th scope="col">Снята</th>
                        </tr>
                    </thead>
                    <tbody id="disqualifications-list-container">
                        {% include 'tournament/disqualification/partials/disqualifications_list.html' %}
                    </tbody>
                </table>
                <img id="scroll-indicator" class="htmx-indicator"
                     src="{% static 'img/svg-loaders/bars.svg' %}" height="32"
                     style="position: absolute; left: 50%; bottom: 0;">
            </div>
        </div>
    </div>
{% endblock %}